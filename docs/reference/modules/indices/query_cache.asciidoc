[[query-cache]]
=== 节点查询缓存

查询缓存负责缓存查询结果。每个节点都有一个由所有分片共享的查询缓存。
缓存实现了一个 LRU 收回策略：当缓存变满时，最不常用的数据会被逐出以便为新数据让路。

查询缓存仅缓存在筛选上下文中使用的查询。

以下设置是 _静态_ 的，必须在集群中的每个数据节点上配置：

`indices.queries.cache.size`::

    控制过滤缓存的内存大小，默认为 `10%`。接受百分比值，如 `5%`，或一个确切值，如 `512mb`。

以下设置是一个 _索引_ 设置，可以在每个索引基础上配置：

`index.queries.cache.enabled`::

    控制是否激活查询缓存。接受 `true`（默认）或 `false`。
