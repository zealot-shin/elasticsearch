[[modules-scripting]]
== 脚本

脚本模块可使用脚本来计算自定义表达式。例如，可以使用脚本返回“脚本字段”作为搜索请求的一部分，或评估查询的自定义分数。

默认的脚本语言是<<modules-scripting-painless, `Painless`>>。附加的 `lang` 插件能够运行用其他语言编写的脚本。在任何可以使用脚本的地方，都可以包含 `lang` 参数来指定脚本的语言。

[float]
=== 通用语言:

这些语言可用于脚本 API 中的任何用途，给予最大的灵活性。

[cols="<,<,<",options="header",]
|=======================================================================
|语言
    |沙箱
    |要求插件

|<<modules-scripting-painless, `painless`>>
    |是
    |内置

|=======================================================================

[float]
=== 专用语言:

这些语言不太灵活，但对某些特定任务通常具有更高的性能。

[cols="<,<,<,<",options="header",]
|=======================================================================
|语言
    |沙箱
    |要求插件
    |目的

|<<modules-scripting-expression, `expression`>>
    |是
    |内置
    |快速自定义排名和排序

|<<search-template, `mustache`>>
    |是
    |内置
    |模板

|<<modules-scripting-engine, `java`>>
    |n/a
    |用户自己写
    |专家 API

|=======================================================================

[WARNING]
.脚本和安全
=================================================

沙盒语言的设计考虑了安全性。然而，非沙盒语言可能是一个安全问题，请阅读<<modules-scripting-security, 脚本和安全>>了解更多详细信息。

=================================================


include::scripting/using.asciidoc[]

include::scripting/fields.asciidoc[]

include::scripting/security.asciidoc[]

include::scripting/painless.asciidoc[]

include::scripting/expression.asciidoc[]

include::scripting/engine.asciidoc[]
